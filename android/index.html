<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BGXpress Service: BGXpress Framework Introduction</title>
<!-- load the fonts we want to use -->
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono:400' rel='stylesheet' type='text/css'>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="silabs-logo-white.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BGXpress Service
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BGXpress Framework Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="..">Link to top level documentation.</a></p>
<h1>Introduction</h1>
<p>The Silicon Labs BGX device provides a bridge between Bluetooth Low Energy (BLE) and Serial communication. The BGXpressService makes it easy to build an Android app that interacts with BGX. It supports discovery of BGX devices, connecting and disconnecting, setting and detecting the bus mode of the BGX, sending and receiving data, and OTA (Over The Air) Firmware Updates of the BGX accessed through the Silicon Labs DMS (Device Management Service).</p>
<h3>Source Code and License</h3>
<p>The BGX mobile libraries are licensed under a permissive open source license and can be found on Github.</p>
<p><a href="https://github.com/SiliconLabs/wireless-xpress">https://github.com/SiliconLabs/wireless-xpress</a></p>
<p>Please refer to the <a class="el" href="license.html">license file</a>.</p>
<h2>Getting Started</h2>
<p>To use the BGXpressService in your Android app, you will add the BGXpressService.java file to your android project, declare the BGXpressService as an intent service to in your AndroidManifest.xml file, and add your <code>DMS_API_KEY</code> to the manifest. If you don't have a <code>DMS_API_KEY</code> yet, supply an empty string and be aware that you won't be able to access the Silicon Labs DMS Server until you obtain a <code>DMS_API_KEY</code>.</p>
<p>In order to use DMS to obtain firmware updates using your app, you should obtain a <code>DMS_API_KEY</code> from Silicon Labs by emailing <a href="#" onclick="location.href='mai'+'lto:'+'xpr'+'es'+'s@s'+'il'+'abs'+'.c'+'om'; return false;">xpres<span style="display: none;">.nosp@m.</span>s@si<span style="display: none;">.nosp@m.</span>labs.<span style="display: none;">.nosp@m.</span>com</a>. Note that this address is to be used to request secure tokens only. For technical support questions, please submit your question to <a href="https://www.silabs.com/support">https://www.silabs.com/support</a>. This key can be used by both your Android and iOS apps. It should however be specific to your company and/or product.</p>
<h3>Design Limitations</h3>
<h4>Android Minimum SDK</h4>
<p>BGXpressService is designed to target SDK version 27. It requires a minimum SDK version 23.</p>
<h4>One BGX at a time.</h4>
<p>BGXpressService is currently designed for connecting to one BGX at a time.</p>
<h3>Adding BGXpressService to your Android app</h3>
<p>To use the BGXpressService in your Android app, follow these steps: </p><ol>
<li>
<p class="startli">Add the files BGXpressService.java and BusMode.java into your Android app. You can access these files through the Silicon Labs <a href="https://github.com/SiliconLabs/wireless-xpress">wireless-xpress github project</a>. </p>
<p><a href="https://github.com/SiliconLabs/wireless-xpress/blob/6729de5d9313f75dc6081d059ff1a48a3514b0da/android/BGXCommander/app/src/main/java/com/silabs/bgxcommander/BGXpressService.java">BGXpressService.java</a> <br />
 </p>
<p><a href="https://github.com/SiliconLabs/wireless-xpress/blob/6729de5d9313f75dc6081d059ff1a48a3514b0da/android/BGXCommander/app/src/main/java/com/silabs/bgxcommander/BusMode.java">BusMode.java</a><br />
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Declare the BGXpressService in your AndroidManifest.xml file like this:</p>
<p>&lt;service android:name=".BGXpressService" android:exported="false"&gt; &lt;meta-data android:name="DMS_API_KEY" android:value="&lt;YOUR DMS API KEY HERE&gt;"/&gt; &lt;/service&gt;</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">If you do not yet have a <code>DMS_API_KEY</code>, supply an empty string for now.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Add the following declarations to your AndroidManifest.xml file:</p>
<p>&lt;uses-feature android:name="android.hardware.bluetooth_le" android:required="true" /&gt;</p>
<p class="endli">&lt;uses-permission android:name="android.permission.BLUETOOTH" /&gt; &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /&gt; &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt; &lt;uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" /&gt; &lt;uses-permission android:name="android.permission.INTERNET" /&gt; &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt; </p>
</li>
</ol>
<h2>Understanding BGX</h2>
<h3>Discovery</h3>
<p>In order to communicate with a BGX device, use the BGXpressService to discovery BGX devices, then select a BGX device and connect.</p>
<h3>BusMode</h3>
<p>BGX operates in one of three Bus Modes: <code>STREAM_MODE</code>, <code>LOCAL_COMMAND_MODE</code>, and <code>REMOTE_COMMAND_MODE</code>. In <code>LOCAL_COMMAND_MODE</code> mode, data that is sent to the BGX using the serial lines is interpreted by a command processor. In <code>REMOTE_COMMAND_MODE</code> mode, data that is sent over Bluetooth stream service is interpreted by the Command API. In <code>STREAM_MODE</code> mode, a serial connection is made between serial lines of the BGX and the app using BGXpressService.</p>
<p>The command mode can be used to read and write properties of the BGX including characteristics of the serial interface (e.g. baud rate, flow control...), bluetooth device properties, and the BGX itself. See <a href="https://docs.silabs.com/bgx/latest/commands">BGX13-1.0 Command Reference</a> for more information.</p>
<h3>Serial Communication</h3>
<p>You Android app can send data to and receive data from the connected BGX device.</p>
<h3>Firmware Update</h3>
<p>You can use <code>BGXpressService</code> to detect when a new version of firmware is available for your BGX.</p>
<h4>DMS</h4>
<p>DMS (Device Managemnt Service) is used to retrieve available firmware for BGX. There is a module built into <code>BGXpressService</code> that supports the operations of retriving a list of the available firmware for your BGX and loading the firmware onto your mobile device.</p>
<h4>OTA_Update</h4>
<p><code>BGXpressService</code> can be used to udpate the firmware on BGX devices using a firmware update retrieved through DMS. Your app can register a <code>BroadcastReceiver</code> to receive <code>OTA_STATUS_MESSAGE</code> Broadcast Intents from the <code>BGXpressService</code>. </p>
</div><div style="border-top: 1px solid #c0c0c0; margin-top: 8px; font-size: 12px; color: #c0c0c0;"><span style="float: left;">Copyright 2018 Silicon Labs</span><span style="float: right">d98f7f46 Thu Dec 20 15:52:57 CST 2018</span></div></div><!-- pagefooter-contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
</body>
</html>
